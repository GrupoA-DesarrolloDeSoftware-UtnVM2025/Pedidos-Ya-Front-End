<nav class="navbar navbar-expand-lg bg-body-tertiary shadow-sm">
  <div class="container-fluid">
    <span class="navbar-brand"><strong>PedidosYa</strong></span>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" routerLink="/delivery">Delivery</a></li>
      </ul>
      <a class="btn btn-outline-danger" routerLink="/login">Salir</a>
    </div>
  </div>
</nav>

<div class="form-container">
  <div class="form-card">
    <h3 class="mb-4">Editar Ubicaci√≥n</h3>

    @if (error) {
      <div class="alert alert-danger">{{ error }}</div>
    }

    <form [formGroup]="ubicacionForm" (ngSubmit)="actualizarUbicacion()">
      <div formGroupName="location">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="latitude" class="form-label">Latitud *</label>
            <input
              type="number"
              step="any"
              class="form-control"
              id="latitude"
              formControlName="latitude"
              placeholder="Ej: -34.611"
              [class.is-invalid]="latitude?.invalid && latitude?.touched">
            @if (latitude?.invalid && latitude?.touched) {
              <div class="invalid-feedback">
                @if (latitude?.errors?.['required']) {
                  <small>Latitud es obligatoria.</small>
                }
                @if (latitude?.errors?.['min']) {
                  <small>Latitud debe ser mayor o igual a -90.</small>
                }
                @if (latitude?.errors?.['max']) {
                  <small>Latitud debe ser menor o igual a 90.</small>
                }
              </div>
            }
          </div>
          <div class="col-md-6 mb-3">
            <label for="longitude" class="form-label">Longitud *</label>
            <input
              type="number"
              step="any"
              class="form-control"
              id="longitude"
              formControlName="longitude"
              placeholder="Ej: -58.417"
              [class.is-invalid]="longitude?.invalid && longitude?.touched">
            @if (longitude?.invalid && longitude?.touched) {
              <div class="invalid-feedback">
                @if (longitude?.errors?.['required']) {
                  <small>Longitud es obligatoria.</small>
                }
                @if (longitude?.errors?.['min']) {
                  <small>Longitud debe ser mayor o igual a -180.</small>
                }
                @if (longitude?.errors?.['max']) {
                  <small>Longitud debe ser menor o igual a 180.</small>
                }
              </div>
            }
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-end mt-4">
        <button type="button" class="btn btn-secondary me-2" (click)="cancelar()">Cancelar</button>
        <button type="submit" class="btn btn-primary" [disabled]="ubicacionForm.invalid">Actualizar</button>
      </div>
    </form>
  </div>
</div>
